CREATE TABLE discussions (id INT AUTO_INCREMENT NOT NULL, forum_id INT DEFAULT NULL, name VARCHAR(200) NOT NULL, created DATETIME NOT NULL, flags SMALLINT NOT NULL, url VARCHAR(200) NOT NULL, PRIMARY KEY(id)) ENGINE = InnoDB;
CREATE TABLE forums (id INT AUTO_INCREMENT NOT NULL, section_id INT DEFAULT NULL, parent_id INT DEFAULT NULL, name VARCHAR(200) NOT NULL, url VARCHAR(200) NOT NULL, description VARCHAR(250) NOT NULL, flags SMALLINT NOT NULL, weight SMALLINT NOT NULL, icon VARCHAR(200) NOT NULL, PRIMARY KEY(id)) ENGINE = InnoDB;
CREATE TABLE posts (id INT AUTO_INCREMENT NOT NULL, discussion_id INT DEFAULT NULL, text LONGTEXT NOT NULL, created DATETIME NOT NULL, flags SMALLINT NOT NULL, PRIMARY KEY(id)) ENGINE = InnoDB;
CREATE TABLE sections (id INT AUTO_INCREMENT NOT NULL, url VARCHAR(200) NOT NULL, PRIMARY KEY(id)) ENGINE = InnoDB;
ALTER TABLE discussions ADD FOREIGN KEY (forum_id) REFERENCES forums(id);
ALTER TABLE forums ADD FOREIGN KEY (section_id) REFERENCES sections(id);
ALTER TABLE forums ADD FOREIGN KEY (parent_id) REFERENCES forums(id);
ALTER TABLE posts ADD FOREIGN KEY (discussion_id) REFERENCES discussions(id)
